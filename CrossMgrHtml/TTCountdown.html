<html>
<head>

<style>
body { font-family: sans-serif; }

#rider-starting-div {
	width: 100%;
	background: linear-gradient(rgb(194,199,248), rgb(240,240,255), rgb(194,199,248)); 
	border-width: 1px;
	border-color: rgb(121, 125, 172);
	border-style: solid;
}

#rider-starting {
	font-size: 500%;
	font-weight: bold;
	padding-left: .5cm;
	padding-right: .5cm;
}

#team-starting-div {
	width: 100%;
	background: linear-gradient(rgb(194,199,248), rgb(240,240,255), rgb(194,199,248)); 
	border-width: 1px;
	border-color: rgb(121, 125, 172);
	border-style: solid;
}

#team-starting {
	font-size: 250%;
	font-weight: bold;
	color: #66c;
	padding-left: 2cm;
}

#countdown-clock-div {
}

#countdown-clock {
	font-size: 3800%;
	font-weight: bold;
	display: inline-block;
	width: 100%;
	text-align: center;
	margin-top: -6%;
	margin-bottom: -6%;
}

#rider-next {
	font-size: 300%;
}

table {
	border-collapse: collapse;
	width: 100%;
	background: linear-gradient(rgb(194,199,248), rgb(240,240,255), rgb(194,199,248)); 
}

tr {
	border-top: 1px solid rgb(121, 125, 172);;
}

th {
	text-align: left;    
}

</style>

<script>
var raceStart = null;
var startList = [
    [
        30, 
        219, 
        "Alexis Vuillermoz\u2020", 
        "Sojasun", 
        "France"
    ], 
    [
        60, 
        218, 
        "Julien Simon", 
        "Sojasun", 
        "France"
    ], 
    [
        90, 
        217, 
        "Maxime M\u00e9derel", 
        "Sojasun", 
        "France"
    ], 
    [
        120, 
        216, 
        "Jean-Marc Marino", 
        "Sojasun", 
        "France"
    ], 
    [
        150, 
        215, 
        "Cyril Lemoine", 
        "Sojasun", 
        "France"
    ], 
    [
        180, 
        214, 
        "Jonathan Hivert", 
        "Sojasun", 
        "France"
    ], 
    [
        210, 
        213, 
        "Julien El Fares", 
        "Sojasun", 
        "France"
    ], 
    [
        240, 
        212, 
        "Anthony Delaplace\u2020", 
        "Sojasun", 
        "France"
    ], 
    [
        270, 
        211, 
        "Brice Feillu", 
        "Sojasun", 
        "France"
    ], 
    [
        300, 
        209, 
        "Lieuwe Westra", 
        "Vacansoleil-DCM", 
        "Netherlands"
    ], 
    [
        330, 
        208, 
        "Danny van Poppel\u2020", 
        "Vacansoleil-DCM", 
        "Netherlands"
    ], 
    [
        360, 
        207, 
        "Boy van Poppel\u2020", 
        "Vacansoleil-DCM", 
        "Netherlands"
    ], 
    [
        390, 
        206, 
        "Sergey Lagutin", 
        "Vacansoleil-DCM", 
        "Uzbekistan"
    ], 
    [
        420, 
        205, 
        "Johnny Hoogerland", 
        "Vacansoleil-DCM", 
        "Netherlands"
    ], 
    [
        450, 
        204, 
        "Juan Antonio Flecha", 
        "Vacansoleil-DCM", 
        "Spain"
    ], 
    [
        480, 
        203, 
        "Thomas De Gendt", 
        "Vacansoleil-DCM", 
        "Belgium"
    ], 
    [
        510, 
        202, 
        "Kris Boeckmans", 
        "Vacansoleil-DCM", 
        "Belgium"
    ], 
    [
        540, 
        201, 
        "Wout Poels", 
        "Vacansoleil-DCM", 
        "Netherlands"
    ], 
    [
        570, 
        199, 
        "Tom Veelers", 
        "Argos-Shimano", 
        "Netherlands"
    ], 
    [
        600, 
        198, 
        "Albert Timmer", 
        "Argos-Shimano", 
        "Netherlands"
    ], 
    [
        630, 
        197, 
        "Marcel Kittel\u2020", 
        "Argos-Shimano", 
        "Germany"
    ], 
    [
        660, 
        196, 
        "Simon Geschke", 
        "Argos-Shimano", 
        "Germany"
    ], 
    [
        690, 
        195, 
        "Johannes Fr\u00f6hlinger", 
        "Argos-Shimano", 
        "Germany"
    ], 
    [
        720, 
        194, 
        "Tom Dumoulin\u2020", 
        "Argos-Shimano", 
        "Netherlands"
    ], 
    [
        750, 
        193, 
        "Koen de Kort", 
        "Argos-Shimano", 
        "Netherlands"
    ], 
    [
        780, 
        192, 
        "Roy Curvers", 
        "Argos-Shimano", 
        "Netherlands"
    ], 
    [
        810, 
        191, 
        "John Degenkolb\u2020", 
        "Argos-Shimano", 
        "Germany"
    ], 
    [
        840, 
        189, 
        "Svein Tuft", 
        "Orica-GreenEDGE", 
        "Canada"
    ], 
    [
        870, 
        188, 
        "Stuart O'Grady", 
        "Orica-GreenEDGE", 
        "Australia"
    ], 
    [
        900, 
        187, 
        "Cameron Meyer\u2020", 
        "Orica-GreenEDGE", 
        "Australia"
    ], 
    [
        930, 
        186, 
        "Brett Lancaster", 
        "Orica-GreenEDGE", 
        "Australia"
    ], 
    [
        960, 
        185, 
        "Daryl Impey", 
        "Orica-GreenEDGE", 
        "South Africa"
    ], 
    [
        990, 
        184, 
        "Matthew Goss", 
        "Orica-GreenEDGE", 
        "Australia"
    ], 
    [
        1020, 
        183, 
        "Simon Clarke", 
        "Orica-GreenEDGE", 
        "Australia"
    ], 
    [
        1050, 
        182, 
        "Michael Albasini", 
        "Orica-GreenEDGE", 
        "Switzerland"
    ], 
    [
        1080, 
        181, 
        "Simon Gerrans", 
        "Orica-GreenEDGE", 
        "Australia"
    ], 
    [
        1110, 
        179, 
        "Christian Vande Velde", 
        "Garmin-Sharp", 
        "United States"
    ], 
    [
        1140, 
        178, 
        "Andrew Talansky\u2020", 
        "Garmin-Sharp", 
        "United States"
    ], 
    [
        1170, 
        177, 
        "Ram\u016bnas Navardauskas\u2020", 
        "Garmin-Sharp", 
        "Lithuania"
    ], 
    [
        1200, 
        176, 
        "David Millar", 
        "Garmin-Sharp", 
        "United Kingdom"
    ], 
    [
        1230, 
        175, 
        "Daniel Martin", 
        "Garmin-Sharp", 
        "Ireland"
    ], 
    [
        1260, 
        174, 
        "Rohan Dennis\u2020", 
        "Garmin-Sharp", 
        "Australia"
    ], 
    [
        1290, 
        173, 
        "Tom Danielson", 
        "Garmin-Sharp", 
        "United States"
    ], 
    [
        1320, 
        172, 
        "Jack Bauer", 
        "Garmin-Sharp", 
        "New Zealand"
    ], 
    [
        1350, 
        171, 
        "Ryder Hesjedal", 
        "Garmin-Sharp", 
        "Canada"
    ], 
    [
        1380, 
        169, 
        "Maarten Wynants", 
        "Belkin Pro Cycling", 
        "Belgium"
    ], 
    [
        1410, 
        168, 
        "Sep Vanmarcke\u2020", 
        "Belkin Pro Cycling", 
        "Belgium"
    ], 
    [
        1440, 
        167, 
        "Laurens ten Dam", 
        "Belkin Pro Cycling", 
        "Netherlands"
    ], 
    [
        1470, 
        166, 
        "Bram Tankink", 
        "Belkin Pro Cycling", 
        "Netherlands"
    ], 
    [
        1500, 
        165, 
        "Lars Petter Nordhaug", 
        "Belkin Pro Cycling", 
        "Norway"
    ], 
    [
        1530, 
        164, 
        "Bauke Mollema", 
        "Belkin Pro Cycling", 
        "Netherlands"
    ], 
    [
        1560, 
        163, 
        "Tom Leezer", 
        "Belkin Pro Cycling", 
        "Netherlands"
    ], 
    [
        1590, 
        162, 
        "Robert Gesink", 
        "Belkin Pro Cycling", 
        "Netherlands"
    ], 
    [
        1620, 
        161, 
        "Lars Boom", 
        "Belkin Pro Cycling", 
        "Netherlands"
    ], 
    [
        1650, 
        159, 
        "Peter Velits", 
        "Omega Pharma-Quick Step", 
        "Slovakia"
    ], 
    [
        1680, 
        158, 
        "Matteo Trentin\u2020", 
        "Omega Pharma-Quick Step", 
        "Italy"
    ], 
    [
        1710, 
        157, 
        "Niki Terpstra", 
        "Omega Pharma-Quick Step", 
        "Netherlands"
    ], 
    [
        1740, 
        156, 
        "Gert Steegmans", 
        "Omega Pharma-Quick Step", 
        "Belgium"
    ], 
    [
        1770, 
        155, 
        "J\u00e9r\u00f4me Pineau", 
        "Omega Pharma-Quick Step", 
        "France"
    ], 
    [
        1800, 
        154, 
        "Tony Martin", 
        "Omega Pharma-Quick Step", 
        "Germany"
    ], 
    [
        1830, 
        153, 
        "Micha\u0142 Kwiatkowski\u2020", 
        "Omega Pharma-Quick Step", 
        "Poland"
    ], 
    [
        1860, 
        152, 
        "Sylvain Chavanel", 
        "Omega Pharma-Quick Step", 
        "France"
    ], 
    [
        1890, 
        151, 
        "Mark Cavendish", 
        "Omega Pharma-Quick Step", 
        "United Kingdom"
    ], 
    [
        1920, 
        149, 
        "Jos\u00e9 Serpa", 
        "Lampre-Merida", 
        "Colombia"
    ], 
    [
        1950, 
        148, 
        "Przemys\u0142aw Niemiec", 
        "Lampre-Merida", 
        "Poland"
    ], 
    [
        1980, 
        147, 
        "Manuele Mori", 
        "Lampre-Merida", 
        "Italy"
    ], 
    [
        2010, 
        146, 
        "Adriano Malori\u2020", 
        "Lampre-Merida", 
        "Italy"
    ], 
    [
        2040, 
        145, 
        "Roberto Ferrari", 
        "Lampre-Merida", 
        "Italy"
    ], 
    [
        2070, 
        144, 
        "Elia Favilli\u2020", 
        "Lampre-Merida", 
        "Italy"
    ], 
    [
        2100, 
        143, 
        "Davide Cimolai\u2020", 
        "Lampre-Merida", 
        "Italy"
    ], 
    [
        2130, 
        142, 
        "Matteo Bono", 
        "Lampre-Merida", 
        "Italy"
    ], 
    [
        2160, 
        141, 
        "Damiano Cunego", 
        "Lampre-Merida", 
        "Italy"
    ], 
    [
        2190, 
        139, 
        "Daniel Navarro", 
        "Cofidis", 
        "Spain"
    ], 
    [
        2220, 
        138, 
        "Rudy Molard\u2020", 
        "Cofidis", 
        "France"
    ], 
    [
        2250, 
        137, 
        "Luis \u00c1ngel Mat\u00e9", 
        "Cofidis", 
        "Spain"
    ], 
    [
        2280, 
        136, 
        "Guillaume Levarlet", 
        "Cofidis", 
        "France"
    ], 
    [
        2310, 
        135, 
        "Christophe Le M\u00e9vel", 
        "Cofidis", 
        "France"
    ], 
    [
        2340, 
        134, 
        "Egoitz Garc\u00eda", 
        "Cofidis", 
        "Spain"
    ], 
    [
        2370, 
        133, 
        "J\u00e9r\u00f4me Coppel", 
        "Cofidis", 
        "France"
    ], 
    [
        2400, 
        132, 
        "Yoann Bagot", 
        "Cofidis", 
        "France"
    ], 
    [
        2430, 
        131, 
        "Rein Taaram\u00e4e", 
        "Cofidis", 
        "Estonia"
    ], 
    [
        2460, 
        129, 
        "Jos\u00e9 Joaqu\u00edn Rojas", 
        "Movistar Team", 
        "Spain"
    ], 
    [
        2490, 
        128, 
        " Nairo Quintana\u2020", 
        "Movistar Team", 
        "Colombia"
    ], 
    [
        2520, 
        127, 
        "Rub\u00e9n Plaza", 
        "Movistar Team", 
        "Spain"
    ], 
    [
        2550, 
        126, 
        "Jos\u00e9 Iv\u00e1n Guti\u00e9rrez", 
        "Movistar Team", 
        "Spain"
    ], 
    [
        2580, 
        125, 
        "Imanol Erviti", 
        "Movistar Team", 
        "Spain"
    ], 
    [
        2610, 
        124, 
        "Rui Costa", 
        "Movistar Team", 
        "Portugal"
    ], 
    [
        2640, 
        123, 
        "Jonathan Castroviejo", 
        "Movistar Team", 
        "Spain"
    ], 
    [
        2670, 
        122, 
        "Andrey Amador", 
        "Movistar Team", 
        "Costa Rica"
    ], 
    [
        2700, 
        121, 
        "Alejandro Valverde", 
        "Movistar Team", 
        "Spain"
    ], 
    [
        2730, 
        119, 
        "Romain Sicard\u2020", 
        "Euskaltel-Euskadi", 
        "France"
    ], 
    [
        2760, 
        118, 
        "Rub\u00e9n P\u00e9rez", 
        "Euskaltel-Euskadi", 
        "Spain"
    ], 
    [
        2790, 
        117, 
        "Juan Jos\u00e9 Oroz", 
        "Euskaltel-Euskadi", 
        "Spain"
    ], 
    [
        2820, 
        116, 
        "Mikel Nieve", 
        "Euskaltel-Euskadi", 
        "Spain"
    ], 
    [
        2850, 
        115, 
        "Juan Jos\u00e9 Lobato\u2020", 
        "Euskaltel-Euskadi", 
        "Spain"
    ], 
    [
        2880, 
        114, 
        "Jon Izagirre\u2020", 
        "Euskaltel-Euskadi", 
        "Spain"
    ], 
    [
        2910, 
        113, 
        "Gorka Izagirre", 
        "Euskaltel-Euskadi", 
        "Spain"
    ], 
    [
        2940, 
        112, 
        "Mikel Astarloza", 
        "Euskaltel-Euskadi", 
        "Spain"
    ], 
    [
        2970, 
        111, 
        "Igor Ant\u00f3n", 
        "Euskaltel-Euskadi", 
        "Spain"
    ], 
    [
        3000, 
        109, 
        "Eduard Vorganov", 
        "Team Katusha", 
        "Russia"
    ], 
    [
        3030, 
        108, 
        "Yuri Trofimov", 
        "Team Katusha", 
        "Russia"
    ], 
    [
        3060, 
        107, 
        "Gatis Smukulis", 
        "Team Katusha", 
        "Latvia"
    ], 
    [
        3090, 
        106, 
        "Daniel Moreno", 
        "Team Katusha", 
        "Spain"
    ], 
    [
        3120, 
        105, 
        "Alberto Losada", 
        "Team Katusha", 
        "Spain"
    ], 
    [
        3150, 
        104, 
        "Aleksandr Kuschynski", 
        "Team Katusha", 
        "Belarus"
    ], 
    [
        3180, 
        103, 
        "Alexander Kristoff", 
        "Team Katusha", 
        "Norway"
    ], 
    [
        3210, 
        102, 
        "Pavel Brutt", 
        "Team Katusha", 
        "Russia"
    ], 
    [
        3240, 
        101, 
        "Joaquim Rodr\u00edguez", 
        "Team Katusha", 
        "Spain"
    ], 
    [
        3270, 
        99, 
        "Matteo Tosatto", 
        "Yellow number jersey Saxo-Tinkoff", 
        "Italy"
    ], 
    [
        3300, 
        98, 
        "Michael Rogers", 
        "Yellow number jersey Saxo-Tinkoff", 
        "Australia"
    ], 
    [
        3330, 
        97, 
        "Nicolas Roche", 
        "Yellow number jersey Saxo-Tinkoff", 
        "Ireland"
    ], 
    [
        3360, 
        96, 
        "S\u00e9rgio Paulinho", 
        "Yellow number jersey Saxo-Tinkoff", 
        "Portugal"
    ], 
    [
        3390, 
        95, 
        "Benjam\u00edn Noval", 
        "Yellow number jersey Saxo-Tinkoff", 
        "Spain"
    ], 
    [
        3420, 
        94, 
        "Roman Kreuziger", 
        "Yellow number jersey Saxo-Tinkoff", 
        "Czech Republic"
    ], 
    [
        3450, 
        93, 
        "Jes\u00fas Hern\u00e1ndez", 
        "Yellow number jersey Saxo-Tinkoff", 
        "Spain"
    ], 
    [
        3480, 
        92, 
        "Daniele Bennati", 
        "Yellow number jersey Saxo-Tinkoff", 
        "Italy"
    ], 
    [
        3510, 
        91, 
        "Alberto Contador", 
        "Yellow number jersey Saxo-Tinkoff", 
        "Spain"
    ], 
    [
        3540, 
        89, 
        "Combativity award Christophe Riblon", 
        "Ag2r-La Mondiale", 
        "France"
    ], 
    [
        3570, 
        88, 
        "S\u00e9bastien Minard", 
        "Ag2r-La Mondiale", 
        "France"
    ], 
    [
        3600, 
        87, 
        "Blel Kadri", 
        "Ag2r-La Mondiale", 
        "France"
    ], 
    [
        3630, 
        86, 
        "John Gadret", 
        "Ag2r-La Mondiale", 
        "France"
    ], 
    [
        3660, 
        85, 
        "Hubert Dupont", 
        "Ag2r-La Mondiale", 
        "France"
    ], 
    [
        3690, 
        84, 
        "Samuel Dumoulin", 
        "Ag2r-La Mondiale", 
        "France"
    ], 
    [
        3720, 
        83, 
        "Maxime Bouet", 
        "Ag2r-La Mondiale", 
        "France"
    ], 
    [
        3750, 
        82, 
        "Romain Bardet\u2020", 
        "Ag2r-La Mondiale", 
        "France"
    ], 
    [
        3780, 
        81, 
        "Jean-Christophe P\u00e9raud", 
        "Ag2r-La Mondiale", 
        "France"
    ], 
    [
        3810, 
        79, 
        "Arthur Vichot\u2020", 
        "FDJ.fr", 
        "France"
    ], 
    [
        3840, 
        78, 
        "J\u00e9r\u00e9my Roy", 
        "FDJ.fr", 
        "France"
    ], 
    [
        3870, 
        77, 
        "Arnold Jeannesson", 
        "FDJ.fr", 
        "France"
    ], 
    [
        3900, 
        76, 
        "Alexandre Geniez\u2020", 
        "FDJ.fr", 
        "France"
    ], 
    [
        3930, 
        75, 
        "Murilo Fischer", 
        "FDJ.fr", 
        "Brazil"
    ], 
    [
        3960, 
        74, 
        "Pierrick F\u00e9drigo", 
        "FDJ.fr", 
        "France"
    ], 
    [
        3990, 
        73, 
        "Nacer Bouhanni\u2020", 
        "FDJ.fr", 
        "France"
    ], 
    [
        4020, 
        72, 
        "William Bonnet", 
        "FDJ.fr", 
        "France"
    ], 
    [
        4050, 
        71, 
        "Thibaut Pinot\u2020", 
        "FDJ.fr", 
        "France"
    ], 
    [
        4080, 
        69, 
        "Dimitry Muravyev", 
        "Astana", 
        "Kazakhstan"
    ], 
    [
        4110, 
        68, 
        "Alexey Lutsenko\u2020", 
        "Astana", 
        "Kazakhstan"
    ], 
    [
        4140, 
        67, 
        "Fredrik Kessiakoff", 
        "Astana", 
        "Sweden"
    ], 
    [
        4170, 
        66, 
        "Andrey Kashechkin", 
        "Astana", 
        "Kazakhstan"
    ], 
    [
        4200, 
        65, 
        "Francesco Gavazzi", 
        "Astana", 
        "Italy"
    ], 
    [
        4230, 
        64, 
        "Enrico Gasparotto", 
        "Astana", 
        "Italy"
    ], 
    [
        4260, 
        63, 
        "Jakob Fuglsang", 
        "Astana", 
        "Denmark"
    ], 
    [
        4290, 
        62, 
        "Assan Bazayev", 
        "Astana", 
        "Kazakhstan"
    ], 
    [
        4320, 
        61, 
        "Janez Brajkovi\u010d", 
        "Astana", 
        "Slovenia"
    ], 
    [
        4350, 
        59, 
        "Thomas Voeckler", 
        "Team Europcar", 
        "France"
    ], 
    [
        4380, 
        58, 
        "David Veilleux", 
        "Team Europcar", 
        "Canada"
    ], 
    [
        4410, 
        57, 
        "K\u00e9vin Reza\u2020", 
        "Team Europcar", 
        "France"
    ], 
    [
        4440, 
        56, 
        "Davide Malacarne", 
        "Team Europcar", 
        "Italy"
    ], 
    [
        4470, 
        55, 
        "Yohann G\u00e8ne", 
        "Team Europcar", 
        "France"
    ], 
    [
        4500, 
        54, 
        "Cyril Gautier", 
        "Team Europcar", 
        "France"
    ], 
    [
        4530, 
        53, 
        "J\u00e9r\u00f4me Cousin\u2020", 
        "Team Europcar", 
        "France"
    ], 
    [
        4560, 
        52, 
        "Yukiya Arashiro", 
        "Team Europcar", 
        "Japan"
    ], 
    [
        4590, 
        51, 
        "Pierre Rolland", 
        "Team Europcar", 
        "France"
    ], 
    [
        4620, 
        49, 
        "Haimar Zubeldia", 
        "RadioShack-Leopard", 
        "Spain"
    ], 
    [
        4650, 
        48, 
        "Jens Voigt", 
        "RadioShack-Leopard", 
        "Germany"
    ], 
    [
        4680, 
        47, 
        "Maxime Monfort", 
        "RadioShack-Leopard", 
        "Belgium"
    ], 
    [
        4710, 
        46, 
        "Andreas Kl\u00f6den", 
        "RadioShack-Leopard", 
        "Germany"
    ], 
    [
        4740, 
        45, 
        "Markel Irizar", 
        "RadioShack-Leopard", 
        "Spain"
    ], 
    [
        4770, 
        44, 
        "Tony Gallopin\u2020", 
        "RadioShack-Leopard", 
        "France"
    ], 
    [
        4800, 
        43, 
        "Laurent Didier", 
        "RadioShack-Leopard", 
        "Luxembourg"
    ], 
    [
        4830, 
        42, 
        "Jan Bakelants", 
        "RadioShack-Leopard", 
        "Belgium"
    ], 
    [
        4860, 
        41, 
        "Andy Schleck", 
        "RadioShack-Leopard", 
        "Luxembourg"
    ], 
    [
        4890, 
        39, 
        "Tejay van Garderen\u2020", 
        "BMC Racing Team", 
        "United States"
    ], 
    [
        4920, 
        38, 
        "Michael Sch\u00e4r", 
        "BMC Racing Team", 
        "Switzerland"
    ], 
    [
        4950, 
        37, 
        "Manuel Quinziato", 
        "BMC Racing Team", 
        "Italy"
    ], 
    [
        4980, 
        36, 
        "Steve Morabito", 
        "BMC Racing Team", 
        "Switzerland"
    ], 
    [
        5010, 
        35, 
        "Ama\u00ebl Moinard", 
        "BMC Racing Team", 
        "France"
    ], 
    [
        5040, 
        34, 
        "Philippe Gilbert", 
        "BMC Racing Team", 
        "Belgium"
    ], 
    [
        5070, 
        33, 
        "Marcus Burghardt", 
        "BMC Racing Team", 
        "Germany"
    ], 
    [
        5100, 
        32, 
        "Brent Bookwalter", 
        "BMC Racing Team", 
        "United States"
    ], 
    [
        5130, 
        31, 
        "Cadel Evans", 
        "BMC Racing Team", 
        "Australia"
    ], 
    [
        5160, 
        29, 
        "Frederik Willems", 
        "Lotto-Belisol", 
        "Belgium"
    ], 
    [
        5190, 
        28, 
        "Marcel Sieberg", 
        "Lotto-Belisol", 
        "Germany"
    ], 
    [
        5220, 
        27, 
        "J\u00fcrgen Roelandts", 
        "Lotto-Belisol", 
        "Belgium"
    ], 
    [
        5250, 
        26, 
        "Greg Henderson", 
        "Lotto-Belisol", 
        "New Zealand"
    ], 
    [
        5280, 
        25, 
        "Adam Hansen", 
        "Lotto-Belisol", 
        "Australia"
    ], 
    [
        5310, 
        24, 
        "Andr\u00e9 Greipel", 
        "Lotto-Belisol", 
        "Germany"
    ], 
    [
        5340, 
        23, 
        "Bart De Clercq", 
        "Lotto-Belisol", 
        "Belgium"
    ], 
    [
        5370, 
        22, 
        "Lars Bak", 
        "Lotto-Belisol", 
        "Denmark"
    ], 
    [
        5400, 
        21, 
        "Jurgen Van Den Broeck", 
        "Lotto-Belisol", 
        "Belgium"
    ], 
    [
        5430, 
        19, 
        "Brian Vandborg", 
        "Cannondale", 
        "Denmark"
    ], 
    [
        5460, 
        18, 
        "Fabio Sabatini", 
        "Cannondale", 
        "Italy"
    ], 
    [
        5490, 
        17, 
        "Moreno Moser\u2020", 
        "Cannondale", 
        "Italy"
    ], 
    [
        5520, 
        16, 
        "Alan Marangoni", 
        "Cannondale", 
        "Italy"
    ], 
    [
        5550, 
        15, 
        "Kristijan Koren", 
        "Cannondale", 
        "Slovenia"
    ], 
    [
        5580, 
        14, 
        "Ted King", 
        "Cannondale", 
        "United States"
    ], 
    [
        5610, 
        13, 
        "Alessandro De Marchi", 
        "Cannondale", 
        "Italy"
    ], 
    [
        5640, 
        12, 
        "Maciej Bodnar", 
        "Cannondale", 
        "Poland"
    ], 
    [
        5670, 
        11, 
        "Green jersey Peter Sagan\u2020", 
        "Cannondale", 
        "Slovakia"
    ], 
    [
        5700, 
        9, 
        "Geraint Thomas", 
        "Team Sky", 
        "United Kingdom"
    ], 
    [
        5730, 
        8, 
        "Ian Stannard", 
        "Team Sky", 
        "United Kingdom"
    ], 
    [
        5760, 
        7, 
        "Kanstantsin Sivtsov", 
        "Team Sky", 
        "Belarus"
    ], 
    [
        5790, 
        6, 
        "Richie Porte", 
        "Team Sky", 
        "Australia"
    ], 
    [
        5820, 
        5, 
        "David L\u00f3pez", 
        "Team Sky", 
        "Spain"
    ], 
    [
        5850, 
        4, 
        "Vasil Kiryienka", 
        "Team Sky", 
        "Belarus"
    ], 
    [
        5880, 
        3, 
        "Peter Kennaugh\u2020", 
        "Team Sky", 
        "United Kingdom"
    ], 
    [
        5910, 
        2, 
        "Edvald Boasson Hagen", 
        "Team Sky", 
        "Norway"
    ], 
    [
        5940, 
        1, 
        " Chris Froome", 
        "Team Sky", 
        "United Kingdom"
    ]
];

var maxNext = 8;
var resetSecond = 20;
var beepTimes = [resetSecond, 10, 5, 4, 3, 2, 1, 0, -3];

var beepsToGive = [];
var iBeepCur = 0;
var bibLast = '';

function FormatTime( t )
{
	var tStr = '';
	if( t < 0 )
	{
		tStr = '-';
		t = -t;
	}
	var secs = ~~t;
	var h = ~~(secs / (60*60));
	var m = (~~(secs / 60) % 60);
	var s = ~~(secs % 60);
	if( h > 0 )
		tStr += h + (m < 10 ? ':0' : ':') + m + (s < 10 ? ':0' : ':') + s;
	else
		tStr += m + (s < 10 ? ':0' : ':') + s;
	return tStr;
}

window.AudioContext = window.AudioContext || window.webkitAudioContext || null;
var audioContext = null;
function playBeep( beep ) {
	if( !audioContext || beep < 0 || beep == resetSecond)
		return;
	
	var oscillator = audioContext.createOscillator();
	oscillator.frequency.value = (beep > 0 ? 440.00 : 880.0);
	oscillator.type = 0;
	
	oscillator.connect(audioContext.destination);
	oscillator.start(audioContext.currentTime);
	oscillator.stop(audioContext.currentTime+0.2);
}

var intervalID = null;
function startIntervalTimer() {
	if( intervalID != null ) {
		clearInterval( intervalID );
		intervalID = null;
	}
	setTimeout(
		function(){ intervalID = setInterval(updateCountdown, 1000); updateCountdown(); },
		(10000 - ((new Date()).getTime() - beepsToGive[0].t.getTime()) % 1000) % 1000 );
}

function updateCountdown() {
	var tNow = new Date();
	var btg = null;
	for( ; ; ++iBeepCur ) {
		btg = beepsToGive[iBeepCur];
		var dSecs = (tNow.getTime() - btg.t.getTime()) / 1000.0;
		if( dSecs < -0.1 )
			break;
		
		if( !btg.given ) {
			//console.log( dSecs );
			playBeep( btg.beep );
			btg.given = true;
		}
	}
	
	if( iBeepCur > 0 )
		--iBeepCur;
	
	btg = beepsToGive[iBeepCur];
	var btgNext = beepsToGive[iBeepCur+1];
	
	var countdown = document.getElementById('countdown-clock');
	countdown.innerHTML = (btgNext.beep < 0 ? '0:00' : FormatTime(0.5 + (btgNext.tStart.getTime() - tNow.getTime()) / 1000.0));

	var bibCur = btgNext.startEntry[1];
	if( bibCur != bibLast ) {
		
		var rider_starting = document.getElementById('rider-starting');
		rider_starting.innerHTML = '';
		rider_starting.appendChild( document.createTextNode( btgNext.startEntry[1] + ': ' + btgNext.startEntry[2] ) );
		
		var team_starting = document.getElementById('team-starting');
		team_starting.innerHTML = '';
		team_starting.appendChild( document.createTextNode( btgNext.startEntry.slice(3).join(', ') ) );
		
		var rider_next = document.getElementById('rider-next');		
		var startEntryNext = [btgNext.startEntry];
		for( var i = iBeepCur+1; i < beepsToGive.length; ++i ) {
			var found = false;
			for( var j = 0; j < startEntryNext.length; ++j ) {
				if( startEntryNext[j][1] == beepsToGive[i].startEntry[1] ) {
					found = true;
					break;
				}
			}
			if( found )
				continue;
			startEntryNext.push( beepsToGive[i].startEntry );
			if( startEntryNext.length > maxNext )
				break;
		}
		startEntryNext = startEntryNext.slice( 1 );
		
		var table = document.createElement('TABLE');
		var tbody = document.createElement('TBODY'); table.appendChild( tbody );
		for( var i = 0; i < startEntryNext.length; ++i ) {
			var tr = document.createElement('TR'); tbody.appendChild( tr );
			
			var td = document.createElement('TD'); tr.appendChild( td );
			td.appendChild( document.createTextNode(
					(new Date(raceStart.getTime() + startEntryNext[i][0]*1000.0)).toLocaleTimeString()
				)
			);
			
			for( var c = 1; c < startEntryNext[i].length; ++c ) {
				var td = document.createElement('TD'); tr.appendChild( td );
				td.appendChild( document.createTextNode(startEntryNext[i][c]) )
			}
		}
		rider_next.innerHTML = '';
		rider_next.appendChild( table );
		
		bibLast = bibCur;
	}
	
	if( btg.beep == 0 || btg.beep == resetSecond )
		startIntervalTimer();
}

function onload() {
	// TEST TEST TEST TEST TEST
	raceStart = new Date(new Date().getTime() - 30*60*1000 - 3287);
	
	playBeep( 1 );
	
	if( startList.length == 0 )
		return;
		
	var tNow = new Date();
	
	startList.sort( function(a, b) { return a[0] - b[0]; } );
	for( var i = 0; i < startList.length; ++i ) {
		var startEntry = startList[i];
		var tStart = new Date(raceStart.getTime() + startEntry[0] * 1000);
		if( tStart < tNow )
			continue;
		for( var b = 0; b < beepTimes.length; ++b ) {
			var tBeep = new Date(tStart.getTime() - beepTimes[b] * 1000);
			if( tBeep < tNow )
				continue;
			beepsToGive.push( {
					't':tBeep,
					'tStart':tStart,
					'beep':  beepTimes[b],
					'startEntry': startEntry,
					'given': false
				}
			);
		}
	}
	if( !beepsToGive.length )
		return;

	// Add a long last entry to avoid special cases.
	beepsToGive.push( beepsToGive[beepsToGive.length-1] );
	var tBig = 200.0*365*24*60*60*1000;
	var btgLast = beepsToGive[beepsToGive.length-1];
	btgLast.t = new Date(btgLast.t.getTime() + tBig);
	btgLast.tStart = new Date(btgLast.tStart.getTime() + tBig);
	btgLast.beep = tBig / 1000;
	
	if( window.AudioContext )
		audioContext = new AudioContext();
	
	startIntervalTimer();
}
</script>
</head>

<body onload="onload()">

<div id="rider-starting-div">
	<span id="rider-starting">1: CrossMgr</span>
</div>
<div id="team-starting-div">
	<span id="team-starting">CrossMgr Time Trial Starter</span>
</div>
<div id="countdown-clock-div">
	<span id="countdown-clock">9:99</span>
</div>
<div id="rider-next">
<table>
	<tr><td>&nbsp</td></tr>
	<tr><td>&nbsp</td></tr>
	<tr><td>&nbsp</td></tr>
</table>
</div>
</body>
</html>
